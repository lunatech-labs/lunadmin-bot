@(user: User,listUserGroup : List[UserGroup], listStatus : List[String] , listOfRequiredPaper : List[String], localTimeZoneId : String)(implicit assetsFinder: AssetsFinder, request: RequestHeader,session: play.api.mvc.Session,flash: Flash)

@main("LunAdmin", assetsFinder,session) {

    @{
        if(flash.get("failure").isDefined){
                <div class="alert alert-warning alert-dismissible">
                <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
                <strong>Failure!</strong> Your form ain't good !
                </div>
        }else{
                    <br/>
        }
    }

    <form method="post" action="@routes.HomeController.updateUser(user._id)">
        @helper.CSRF.formField
        <div class="form-group">
            <label for="firstName">First Name</label>
            <input type="text" class="form-control" name="firstName" id="firstName" value="@user.firstName" placeholder="Some First Name" required>
        </div>

        <div class="form-group">
            <label for="LastName">Last Name</label>
            <input type="text" class="form-control" name="lastName" id="lastName" value="@user.lastName" placeholder="Some Last Name" required>
        </div>

        <div class="form-group">
            <label for="mail">Mail</label>
            <input type="email" class="form-control" name="mail" id="mail" value="@user.mail" placeholder="Some Mail" required>
        </div>

        <div class="form-group">
            <label for="password">Password</label>
            <input type="password" class="form-control" name="password" value="@user.password" id="password" placeholder="No one will ever know" required>
        </div>

        <div class="form-group">
            <label for="phone">Phone</label><br>
            <input type="text" class="form-control" value="@user.phone" id="phone" name="phone"
            placeholder="01 02 03 04 05"
            pattern="[0-9]{2} [0-9]{2} [0-9]{2} [0-9]{2} [0-9]{2}"
            required />
        </div>

        <div class="form-group">
            <label for="birthDate">Birth Date</label>
            <input type="date" value="@user.birthDate" class="form-control" name="birthDate" id="birthDate" required>
        </div>

        <div class="form-group">
            <label for="hireDate">Hire Date</label>
            <input type="date" class="form-control" value="@user.hireDate" name="hireDate" id="hireDate" required>
        </div>

        <label for="status">Select a status :</label>
        <select class="form-control" id="status" name="status" required>
        @for(status <- listStatus){
            @if(user.status.isDefined) {
                @if(status == user.status.get) {
                    <option value="@status" selected="selected">@status</option>
                } else {
                    <option value="@status" >@status</option>
                }
            }else{
                <option value="@status" >@status</option>
            }
        }
        </select>

        <label for="groupName">Select a/multiple Group(s) :</label>
        <select class="form-control" id="groupName[]" name="groupName[]" multiple >
        @for(group <- listUserGroup){
            @if(user.groupName.isDefined){
                @if(user.groupName.get.contains(group.name)){
                    <option value="@group.name" selected="selected">@group.name</option>
                }else{
                    <option value="@group.name" >@group.name</option>
                }
            }else{
                <option value="@group.name" >@group.name</option>
            }
        }
        </select>

        <div class="form-group">
            <label for="picture">Picture Link (You can do it Later)</label>
            <input type="url" class="form-control" value="@user.picture" name="picture" id="picture" pattern="https://.*" placeholder="https://....." >
        </div>

        @for(paper <- listOfRequiredPaper){
            <div class="form-group">
                <label for="paper@paper.hashCode()">@paper (You can do it Later)</label>
                <input type="url" class="form-control" value="@user.cloudLinks.find(e => e._1 == paper).get._2" name="paper@paper.hashCode()" id="paper@paper.hashCode()" pattern="https://.*" placeholder="https://....." >
            </div>
        }

        <input type="text" value="@user.isActive" name="isActive" hidden>

        <input type="text" value="@user.timeZone" name="timeZone" hidden>

        <button type="submit" class="btn btn-primary">Update User</button>
    </form>
}